<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Homebrew Alpha Strike Tools</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.0/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <style>
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
      background-color: #2c2f34 !important; /* brighter neutral dark */
    }

    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    section.hero {
      flex: 1 0 auto;
    }

    footer.footer-fixed-bottom {
      background-color: #2c2f34 !important;
      color: #fff !important;
      flex-shrink: 0;
      width: 100%;
      padding: 1rem 0 0.5rem 0;
      box-sizing: border-box;
    }

    footer.footer-fixed-bottom .content,
    footer.footer-fixed-bottom p,
    footer.footer-fixed-bottom .has-text-centered {
      color: #fff !important;
    }

    /* Make active black buttons more visible on dark bg */
    .button.is-black.is-active, .button.is-black.is-inverted {
      background-color: #fff !important;
      color: #23272a !important;
      border: 1.5px solid #23272a !important;
    }

    .button.is-black {
      background-color: #23272a !important;
      color: #fff !important;
      border: 1.5px solid #fff !important;
    }
    </style>
  </head>
  <body>
    <script>
const appVersion = '0.9.3b';

window.onload = (event) => {
  document.getElementById('appVersion').innerHTML = 'app version: ' + appVersion;
};
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.getRegistration().then (registration => {
    const firstRegistration = (registration === undefined);
    navigator.serviceWorker.register('service-worker.js').then(registration => {
      // If this is not the first registration, check if an update has been found.
      if (!firstRegistration) {
        registration.addEventListener('updatefound', () => {
          const installingWorker = registration.installing;
          if (installingWorker != null) {
            installingWorker.onstatechange = e => {
              if (e.target.state == 'installed') {
                // registration.unregister();  // commented out because its effectiveness is questionable
                var viewAppVersion = document.getElementById('appVersion').innerHTML;
                viewAppVersion = viewAppVersion + '(update!)';
                document.getElementById('appVersion').innerHTML = viewAppVersion;
              }
            };
          }
        });
      }
    });
  });
}
    </script>
    <section class="hero is-dark is-fullheight">
      <div class="hero-head">
        <div class="container has-text-centered">
          <p class="title">
            Homebrew Alpha Strike Tools
          </p>
          <div class="buttons">
<!--             <button class="button is-link is-fullwidth" onclick="location.href='./bv-calculator.html'">BV calculator</button> -->
            <button class="button is-link is-fullwidth" style="height:auto;" onclick="location.href='./sator.html'">Homebrew Alpha Strike Hex Play Shot Solving Computer (S.A.T.O.R.)</button>
<!--            <button class="button is-link is-fullwidth" onclick="location.href='./HitLocationTable.html'">Roll Hit Location Table</button> -->
          </div>
        </div>
      </div>
      <div class="hero-body">
      </div>
      <footer class="hero-foot">
        <div class="content has-text-centered">
          <p id="appVersion"></p>
        </div>
      </footer>
    </section>
  </body>
</html>